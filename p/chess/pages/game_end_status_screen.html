<!DOCTYPE html>

<html lang="id" class="scroll-smooth">

<head>

<meta charset="UTF-8">

<meta name="viewport" content="width=device-width, initial-scale=1.0">

<meta name="description" content="ChessWeb - Layar status akhir permainan dengan ringkasan lengkap dan opsi tindakan">

<title>ChessWeb - Status Akhir Permainan</title>

<link rel="stylesheet" href="../css/main.css">

<script type="module" async src="https://static.rocket.new/rocket-web.js?_cfg=https%3A%2F%2Fchessweb9969back.builtwithrocket.new&_be=https%3A%2F%2Fappanalytics.rocket.new&_v=0.1.17"></script>

<script type="module" defer src="https://static.rocket.new/rocket-shot.js?v=0.0.2"></script>

</head>

<body class="min-h-screen bg-background">

<!-- Main Container -->

<div class="container-chess py-6 md:py-8">

<!-- Header -->

<header class="mb-6 md:mb-8 animate-fade-in">

<div class="flex items-center justify-between flex-wrap gap-4">

<div class="flex items-center gap-3">

<!-- Chess Logo SVG -->

<svg class="w-10 h-10 md:w-12 md:h-12" viewBox="0 0 48 48" fill="none" xmlns="http://www.w3.org/2000/svg">

<rect x="4" y="4" width="40" height="40" rx="4" fill="var(--color-primary)" opacity="0.1"/>

<path d="M24 8C24 8 20 12 20 16C20 18 21 19 22 20L20 32H28L26 20C27 19 28 18 28 16C28 12 24 8 24 8Z" fill="var(--color-primary)"/>

<ellipse cx="24" cy="34" rx="6" ry="2" fill="var(--color-primary)"/>

<circle cx="24" cy="12" r="2" fill="var(--color-accent)"/>

</svg>

<div>

<h1 class="text-2xl md:text-3xl font-heading font-bold text-primary">ChessWeb</h1>

<p class="text-sm text-text-secondary font-caption">Hasil Permainan</p>

</div>

</div>

<!-- Back to Board Button -->

<a href="chess_game_board.html" class="btn-outline">

<svg class="w-5 h-5 mr-2" fill="none" stroke="currentColor" viewBox="0 0 24 24">

<path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M10 19l-7-7m0 0l7-7m-7 7h18"/>

</svg>

Kembali ke Papan

</a>

</div>

</header>


<!-- Game Result Banner -->

<div class="card mb-6 md:mb-8 text-center animate-slide-up">

<div class="max-w-2xl mx-auto">

<!-- Winner Icon -->

<div id="resultIcon" class="w-20 h-20 md:w-24 md:h-24 mx-auto mb-4 md:mb-6 rounded-full bg-success/10 flex items-center justify-center">

<svg class="w-10 h-10 md:w-12 md:h-12 text-success" fill="none" stroke="currentColor" viewBox="0 0 24 24">

<path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M9 12l2 2 4-4m6 2a9 9 0 11-18 0 9 9 0 0118 0z"/>

</svg>

</div>


<!-- Result Title -->

<h2 id="resultTitle" class="text-2xl md:text-3xl lg:text-4xl font-heading font-bold text-primary mb-2 md:mb-3">Skakmat - Putih Menang!</h2>

<p id="resultSubtitle" class="text-base md:text-lg text-text-secondary mb-4 md:mb-6">Kemenangan dengan skakmat setelah 42 langkah</p>


<!-- Game Info -->

<div class="flex flex-wrap justify-center gap-4 md:gap-6 text-sm">

<div class="flex items-center gap-2">

<svg class="w-5 h-5 text-text-tertiary" fill="none" stroke="currentColor" viewBox="0 0 24 24">

<path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M12 8v4l3 3m6-3a9 9 0 11-18 0 9 9 0 0118 0z"/>

</svg>

<span class="text-text-secondary">Durasi: <strong id="gameDuration" class="text-text-primary">18 menit 34 detik</strong></span>

</div>

<div class="flex items-center gap-2">

<svg class="w-5 h-5 text-text-tertiary" fill="none" stroke="currentColor" viewBox="0 0 24 24">

<path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M8 7V3m8 4V3m-9 8h10M5 21h14a2 2 0 002-2V7a2 2 0 00-2-2H5a2 2 0 00-2 2v12a2 2 0 002 2z"/>

</svg>

<span class="text-text-secondary">Tanggal: <strong class="text-text-primary">18 Februari 2026</strong></span>

</div>

</div>

</div>

</div>


<!-- Statistics Grid -->

<div class="grid grid-cols-2 lg:grid-cols-4 gap-3 md:gap-4 lg:gap-6 mb-6 md:mb-8">

<!-- Total Moves -->

<div class="card p-4 md:p-6 animate-slide-up" style="animation-delay: 100ms;">

<div class="flex items-center justify-between mb-2 md:mb-3">

<h3 class="text-xs md:text-sm font-medium text-text-secondary">Total Langkah</h3>

<div class="w-8 h-8 md:w-10 md:h-10 rounded-lg bg-primary/10 flex items-center justify-center">

<svg class="w-4 h-4 md:w-5 md:h-5 text-primary" fill="none" stroke="currentColor" viewBox="0 0 24 24">

<path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M9 5H7a2 2 0 00-2 2v12a2 2 0 002 2h10a2 2 0 002-2V7a2 2 0 00-2-2h-2M9 5a2 2 0 002 2h2a2 2 0 002-2M9 5a2 2 0 012-2h2a2 2 0 012 2"/>

</svg>

</div>

</div>

<p id="totalMoves" class="text-2xl md:text-3xl font-bold text-primary">42</p>

<p class="text-xs text-text-tertiary mt-1">21 langkah per pemain</p>

</div>


<!-- Captures -->

<div class="card p-4 md:p-6 animate-slide-up" style="animation-delay: 150ms;">

<div class="flex items-center justify-between mb-2 md:mb-3">

<h3 class="text-xs md:text-sm font-medium text-text-secondary">Bidak Tertangkap</h3>

<div class="w-8 h-8 md:w-10 md:h-10 rounded-lg bg-accent/10 flex items-center justify-center">

<svg class="w-4 h-4 md:w-5 md:h-5 text-accent" fill="none" stroke="currentColor" viewBox="0 0 24 24">

<path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M6 18L18 6M6 6l12 12"/>

</svg>

</div>

</div>

<p id="totalCaptures" class="text-2xl md:text-3xl font-bold text-accent">14</p>

<p id="capturesBreakdown" class="text-xs text-text-tertiary mt-1">7 putih, 7 hitam</p>

</div>


<!-- Checks -->

<div class="card p-4 md:p-6 animate-slide-up" style="animation-delay: 200ms;">

<div class="flex items-center justify-between mb-2 md:mb-3">

<h3 class="text-xs md:text-sm font-medium text-text-secondary">Total Skak</h3>

<div class="w-8 h-8 md:w-10 md:h-10 rounded-lg bg-warning/10 flex items-center justify-center">

<svg class="w-4 h-4 md:w-5 md:h-5 text-warning" fill="none" stroke="currentColor" viewBox="0 0 24 24">

<path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M12 9v2m0 4h.01m-6.938 4h13.856c1.54 0 2.502-1.667 1.732-3L13.732 4c-.77-1.333-2.694-1.333-3.464 0L3.34 16c-.77 1.333.192 3 1.732 3z"/>

</svg>

</div>

</div>

<p id="totalChecks" class="text-2xl md:text-3xl font-bold text-warning">5</p>

<p id="checksBreakdown" class="text-xs text-text-tertiary mt-1">3 putih, 2 hitam</p>

</div>


<!-- Special Moves -->

<div class="card p-4 md:p-6 animate-slide-up" style="animation-delay: 250ms;">

<div class="flex items-center justify-between mb-2 md:mb-3">

<h3 class="text-xs md:text-sm font-medium text-text-secondary">Langkah Khusus</h3>

<div class="w-8 h-8 md:w-10 md:h-10 rounded-lg bg-secondary/10 flex items-center justify-center">

<svg class="w-4 h-4 md:w-5 md:h-5 text-secondary-700" fill="none" stroke="currentColor" viewBox="0 0 24 24">

<path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M13 10V3L4 14h7v7l9-11h-7z"/>

</svg>

</div>

</div>

<p id="specialMoves" class="text-2xl md:text-3xl font-bold text-secondary-700">3</p>

<p id="specialMovesBreakdown" class="text-xs text-text-tertiary mt-1">2 rokade, 1 en passant</p>

</div>

</div>


<!-- Main Content Grid -->

<div class="grid lg:grid-cols-[1fr_400px] gap-6 md:gap-8">

<!-- Left Column -->

<div class="space-y-4 md:space-y-6">

<!-- Move History -->

<div class="card animate-slide-up" style="animation-delay: 300ms;">

<div class="flex items-center justify-between mb-4 flex-wrap gap-3">

<h3 class="text-lg md:text-xl font-heading font-semibold text-primary">Riwayat Lengkap Langkah</h3>

<button class="btn-ghost h-10 px-4 text-sm">

<svg class="w-4 h-4 md:w-5 md:h-5 mr-2" fill="none" stroke="currentColor" viewBox="0 0 24 24">

<path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M4 16v1a3 3 0 003 3h10a3 3 0 003-3v-1m-4-4l-4 4m0 0l-4-4m4 4V4"/>

</svg>

Unduh PGN

</button>

</div>


<div id="moveHistoryList" class="move-history max-h-80 md:max-h-96">

<!-- Move items will be populated by JavaScript -->

<div class="move-item">

<span class="text-text-tertiary">1.</span>

<span class="text-text-primary ml-2">♙ e2 → e4</span>

</div>

<div class="move-item">

<span class="text-text-tertiary">2.</span>

<span class="text-text-primary ml-2">♟ e7 → e5</span>

</div>

<div class="move-item">

<span class="text-text-tertiary">3.</span>

<span class="text-text-primary ml-2">♘ g1 → f3</span>

</div>

<div class="move-item">

<span class="text-text-tertiary">4.</span>

<span class="text-text-primary ml-2">♞ b8 → c6</span>

</div>

<div class="move-item">

<span class="text-text-tertiary">5.</span>

<span class="text-text-primary ml-2">♗ f1 → c4</span>

</div>

<div class="move-item">

<span class="text-text-tertiary">6.</span>

<span class="text-text-primary ml-2">♝ f8 → c5</span>

</div>

<div class="move-item">

<span class="text-text-tertiary">7.</span>

<span class="text-text-primary ml-2">♙ c2 → c3</span>

</div>

<div class="move-item">

<span class="text-text-tertiary">8.</span>

<span class="text-text-primary ml-2">♞ g8 → f6</span>

</div>

<div class="move-item">

<span class="text-text-tertiary">9.</span>

<span class="text-text-primary ml-2">♙ d2 → d4 ×</span>

</div>

<div class="move-item">

<span class="text-text-tertiary">10.</span>

<span class="text-text-primary ml-2">♟ e5 → d4 ×</span>

</div>

</div>

</div>


<!-- Key Moments -->

<div class="card animate-slide-up" style="animation-delay: 350ms;">

<h3 class="text-lg md:text-xl font-heading font-semibold text-primary mb-4">Momen Penting</h3>

<div class="space-y-3 md:space-y-4">

<!-- Moment 1 -->

<div class="p-3 md:p-4 rounded-lg bg-secondary/5 border border-border">

<div class="flex items-start gap-3">

<div class="w-10 h-10 rounded-lg bg-success/10 flex items-center justify-center flex-shrink-0">

<span class="text-lg md:text-xl">♕</span>

</div>

<div class="flex-1 min-w-0">

<div class="flex items-center justify-between mb-1 flex-wrap gap-2">

<h4 class="font-semibold text-text-primary text-sm md:text-base">Pengorbanan Ratu</h4>

<span class="badge badge-success text-xs">Langkah 28</span>

</div>

<p class="text-xs md:text-sm text-text-secondary">Putih mengorbankan ratu untuk membuka serangan mematikan ke raja hitam</p>

</div>

</div>

</div>


<!-- Moment 2 -->

<div class="p-3 md:p-4 rounded-lg bg-secondary/5 border border-border">

<div class="flex items-start gap-3">

<div class="w-10 h-10 rounded-lg bg-warning/10 flex items-center justify-center flex-shrink-0">

<span class="text-lg md:text-xl">♖</span>

</div>

<div class="flex-1 min-w-0">

<div class="flex items-center justify-between mb-1 flex-wrap gap-2">

<h4 class="font-semibold text-text-primary text-sm md:text-base">Rokade Panjang</h4>

<span class="badge badge-warning text-xs">Langkah 12</span>

</div>

<p class="text-xs md:text-sm text-text-secondary">Hitam melakukan rokade queenside untuk mengamankan raja</p>

</div>

</div>

</div>


<!-- Moment 3 -->

<div class="p-3 md:p-4 rounded-lg bg-secondary/5 border border-border">

<div class="flex items-start gap-3">

<div class="w-10 h-10 rounded-lg bg-accent/10 flex items-center justify-center flex-shrink-0">

<span class="text-lg md:text-xl">♘</span>

</div>

<div class="flex-1 min-w-0">

<div class="flex items-center justify-between mb-1 flex-wrap gap-2">

<h4 class="font-semibold text-text-primary text-sm md:text-base">Garpu Kuda</h4>

<span class="badge badge-info text-xs">Langkah 35</span>

</div>

<p class="text-xs md:text-sm text-text-secondary">Kuda putih menyerang raja dan ratu hitam secara bersamaan</p>

</div>

</div>

</div>

</div>

</div>

</div>


<!-- Right Column -->

<div class="space-y-4 md:space-y-6">

<!-- Player Stats -->

<div class="card animate-slide-up" style="animation-delay: 400ms;">

<h3 class="text-lg md:text-xl font-heading font-semibold text-primary mb-4">Statistik Pemain</h3>

<!-- White Player -->

<div class="mb-6">

<div class="flex items-center justify-between mb-3">

<div class="flex items-center gap-2">

<div class="w-8 h-8 rounded-full bg-white border-2 border-primary"></div>

<span class="font-semibold text-text-primary text-sm md:text-base">Pemain Putih</span>

</div>

<span id="whiteResult" class="badge badge-success text-xs">Menang</span>

</div>

<div class="space-y-2 text-xs md:text-sm">

<div class="flex justify-between">

<span class="text-text-secondary">Bidak Tertangkap</span>

<span id="whiteCaptured" class="font-medium text-text-primary">7 bidak</span>

</div>

<div class="flex justify-between">

<span class="text-text-secondary">Skak Diberikan</span>

<span id="whiteChecks" class="font-medium text-text-primary">3 kali</span>

</div>

<div class="flex justify-between">

<span class="text-text-secondary">Rata-rata Waktu</span>

<span id="whiteAvgTime" class="font-medium text-text-primary">26 detik</span>

</div>

</div>

</div>


<!-- Black Player -->

<div>

<div class="flex items-center justify-between mb-3">

<div class="flex items-center gap-2">

<div class="w-8 h-8 rounded-full bg-[#2C2C2C] border-2 border-border"></div>

<span class="font-semibold text-text-primary text-sm md:text-base">Pemain Hitam</span>

</div>

<span id="blackResult" class="badge badge-error text-xs">Kalah</span>

</div>

<div class="space-y-2 text-xs md:text-sm">

<div class="flex justify-between">

<span class="text-text-secondary">Bidak Tertangkap</span>

<span id="blackCaptured" class="font-medium text-text-primary">7 bidak</span>

</div>

<div class="flex justify-between">

<span class="text-text-secondary">Skak Diberikan</span>

<span id="blackChecks" class="font-medium text-text-primary">2 kali</span>

</div>

<div class="flex justify-between">

<span class="text-text-secondary">Rata-rata Waktu</span>

<span id="blackAvgTime" class="font-medium text-text-primary">28 detik</span>

</div>

</div>

</div>

</div>


<!-- Captured Pieces Detail -->

<div class="card animate-slide-up" style="animation-delay: 450ms;">

<h3 class="text-lg md:text-xl font-heading font-semibold text-primary mb-4">Detail Bidak Tertangkap</h3>

<!-- White Captured -->

<div class="mb-4">

<p class="text-xs md:text-sm text-text-secondary font-caption mb-2">Putih Tertangkap (7 bidak)</p>

<div id="whiteCapturedPieces" class="flex flex-wrap gap-2 p-3 rounded-md bg-secondary/5 border border-border min-h-[48px]">

<span class="text-xl md:text-2xl">♙</span>

<span class="text-xl md:text-2xl">♙</span>

<span class="text-xl md:text-2xl">♙</span>

<span class="text-xl md:text-2xl">♘</span>

<span class="text-xl md:text-2xl">♗</span>

<span class="text-xl md:text-2xl">♖</span>

<span class="text-xl md:text-2xl">♕</span>

</div>

</div>

<!-- Black Captured -->

<div>

<p class="text-xs md:text-sm text-text-secondary font-caption mb-2">Hitam Tertangkap (7 bidak)</p>

<div id="blackCapturedPieces" class="flex flex-wrap gap-2 p-3 rounded-md bg-secondary/5 border border-border min-h-[48px]">

<span class="text-xl md:text-2xl">♟</span>

<span class="text-xl md:text-2xl">♟</span>

<span class="text-xl md:text-2xl">♟</span>

<span class="text-xl md:text-2xl">♟</span>

<span class="text-xl md:text-2xl">♞</span>

<span class="text-xl md:text-2xl">♝</span>

<span class="text-xl md:text-2xl">♜</span>

</div>

</div>

</div>


<!-- Action Buttons -->

<div class="card animate-slide-up" style="animation-delay: 500ms;">

<h3 class="text-base md:text-lg font-semibold text-text-primary mb-4">Aksi</h3>

<div class="space-y-3">

<a href="chess_game_board.html" class="btn-primary w-full text-sm md:text-base">

<svg class="w-4 h-4 md:w-5 md:h-5 mr-2" fill="none" stroke="currentColor" viewBox="0 0 24 24">

<path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M12 4v16m8-8H4"/>

</svg>

Permainan Baru

</a>

<button id="playAgainBtn" class="btn-secondary w-full text-sm md:text-base">

<svg class="w-4 h-4 md:w-5 md:h-5 mr-2" fill="none" stroke="currentColor" viewBox="0 0 24 24">

<path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M4 4v5h.582m15.356 2A8.001 8.001 0 004.582 9m0 0H9m11 11v-5h-.581m0 0a8.003 8.003 0 01-15.357-2m15.357 2H15"/>

</svg>

Main Lagi

</button>

<button id="reviewGameBtn" class="btn-outline w-full text-sm md:text-base">

<svg class="w-4 h-4 md:w-5 md:h-5 mr-2" fill="none" stroke="currentColor" viewBox="0 0 24 24">

<path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M15 12a3 3 0 11-6 0 3 3 0 016 0z"/>

<path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M2.458 12C3.732 7.943 7.523 5 12 5c4.478 0 8.268 2.943 9.542 7-1.274 4.057-5.064 7-9.542 7-4.477 0-8.268-2.943-9.542-7z"/>

</svg>

Tinjau Permainan

</button>

<button id="shareResultBtn" class="btn-ghost w-full text-sm md:text-base">

<svg class="w-4 h-4 md:w-5 md:h-5 mr-2" fill="none" stroke="currentColor" viewBox="0 0 24 24">

<path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M8.684 13.342C8.886 12.938 9 12.482 9 12c0-.482-.114-.938-.316-1.342m0 2.684a3 3 0 110-2.684m0 2.684l6.632 3.316m-6.632-6l6.632-3.316m0 0a3 3 0 105.367-2.684 3 3 0 00-5.367 2.684zm0 9.316a3 3 0 105.368 2.684 3 3 0 00-5.368-2.684z"/>

</svg>

Bagikan Hasil

</button>

</div>

</div>

</div>

</div>

</div>


<!-- Review Game Modal -->

<div id="reviewModal" class="modal hidden" role="dialog" aria-labelledby="reviewModalTitle" aria-modal="true">

<div class="modal-content max-w-2xl">

<div class="flex items-center justify-between mb-4">

<h3 id="reviewModalTitle" class="text-xl md:text-2xl font-heading font-bold text-primary">Tinjau Permainan</h3>

<button id="closeReviewModal" class="btn-ghost h-10 w-10 p-0 rounded-full" aria-label="Tutup modal">

<svg class="w-5 h-5" fill="none" stroke="currentColor" viewBox="0 0 24 24">

<path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M6 18L18 6M6 6l12 12"/>

</svg>

</button>

</div>


<div class="space-y-4">

<div class="p-4 rounded-lg bg-secondary/5 border border-border">

<h4 class="font-semibold text-text-primary mb-2 text-sm md:text-base">Fitur Tinjauan</h4>

<ul class="text-xs md:text-sm text-text-secondary space-y-2">

<li class="flex items-start gap-2">

<svg class="w-5 h-5 text-primary flex-shrink-0 mt-0.5" fill="none" stroke="currentColor" viewBox="0 0 24 24">

<path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M9 12l2 2 4-4m6 2a9 9 0 11-18 0 9 9 0 0118 0z"/>

</svg>

<span>Putar ulang setiap langkah permainan secara berurutan</span>

</li>

<li class="flex items-start gap-2">

<svg class="w-5 h-5 text-primary flex-shrink-0 mt-0.5" fill="none" stroke="currentColor" viewBox="0 0 24 24">

<path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M9 12l2 2 4-4m6 2a9 9 0 11-18 0 9 9 0 0118 0z"/>

</svg>

<span>Analisis posisi papan pada setiap langkah</span>

</li>

<li class="flex items-start gap-2">

<svg class="w-5 h-5 text-primary flex-shrink-0 mt-0.5" fill="none" stroke="currentColor" viewBox="0 0 24 24">

<path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M9 12l2 2 4-4m6 2a9 9 0 11-18 0 9 9 0 0118 0z"/>

</svg>

<span>Identifikasi momen kunci dan kesalahan strategis</span>

</li>

<li class="flex items-start gap-2">

<svg class="w-5 h-5 text-primary flex-shrink-0 mt-0.5" fill="none" stroke="currentColor" viewBox="0 0 24 24">

<path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M9 12l2 2 4-4m6 2a9 9 0 11-18 0 9 9 0 0118 0z"/>

</svg>

<span>Navigasi maju-mundur dengan kontrol penuh</span>

</li>

</ul>

</div>


<div class="p-4 rounded-lg bg-accent/5 border border-accent/20">

<div class="flex gap-3">

<svg class="w-5 h-5 text-accent flex-shrink-0 mt-0.5" fill="none" stroke="currentColor" viewBox="0 0 24 24">

<path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M13 16h-1v-4h-1m1-4h.01M21 12a9 9 0 11-18 0 9 9 0 0118 0z"/>

</svg>

<p class="text-xs md:text-sm text-accent-700 dark:text-accent-400">Fitur tinjauan permainan memungkinkan Anda mempelajari strategi dan meningkatkan kemampuan catur Anda.</p>

</div>

</div>

</div>


<div class="flex gap-3 mt-6">

<button id="startReviewBtn" class="btn-primary flex-1 text-sm md:text-base">

<svg class="w-4 h-4 md:w-5 md:h-5 mr-2" fill="none" stroke="currentColor" viewBox="0 0 24 24">

<path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M14.752 11.168l-3.197-2.132A1 1 0 0010 9.87v4.263a1 1 0 001.555.832l3.197-2.132a1 1 0 000-1.664z"/>

<path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M21 12a9 9 0 11-18 0 9 9 0 0118 0z"/>

</svg>

Mulai Tinjauan

</button>

<button id="cancelReviewBtn" class="btn-outline flex-1 text-sm md:text-base">

Batal

</button>

</div>

</div>

</div>


<script>

// Game End Status Logic

const GameEndStatus = {

gameData: {

result: 'checkmate',

winner: 'white',

totalMoves: 42,

duration: '18 menit 34 detik',

captures: {

white: 7,

black: 7

},

checks: {

white: 3,

black: 2

},

specialMoves: {

castling: 2,

enPassant: 1

}

},


init() {

this.loadGameData();

this.updateUI();

this.attachEventListeners();

},


loadGameData() {

// Load game data from localStorage if available

const savedData = localStorage.getItem('chessGameResult');

if (savedData) {

try {

this.gameData = JSON.parse(savedData);

} catch (e) {

console.error('Error loading game data:', e);

}

}

},


updateUI() {

// Update result banner

this.updateResultBanner();

// Update statistics

this.updateStatistics();

// Update player stats

this.updatePlayerStats();

},


updateResultBanner() {

const resultIcon = document.getElementById('resultIcon');

const resultTitle = document.getElementById('resultTitle');

const resultSubtitle = document.getElementById('resultSubtitle');


let iconHTML, title, subtitle;


switch (this.gameData.result) {

case 'checkmate':

const winner = this.gameData.winner === 'white' ? 'Putih' : 'Hitam';

iconHTML = `

<svg class="w-10 h-10 md:w-12 md:h-12 text-success" fill="none" stroke="currentColor" viewBox="0 0 24 24">

<path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M9 12l2 2 4-4m6 2a9 9 0 11-18 0 9 9 0 0118 0z"/>

</svg>

`;

title = `Skakmat - ${winner} Menang!`;

subtitle = `Kemenangan dengan skakmat setelah ${this.gameData.totalMoves} langkah`;

resultIcon.className = 'w-20 h-20 md:w-24 md:h-24 mx-auto mb-4 md:mb-6 rounded-full bg-success/10 flex items-center justify-center';

break;


case 'stalemate':

iconHTML = `

<svg class="w-10 h-10 md:w-12 md:h-12 text-warning" fill="none" stroke="currentColor" viewBox="0 0 24 24">

<path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M12 8v4m0 4h.01M21 12a9 9 0 11-18 0 9 9 0 0118 0z"/>

</svg>

`;

title = 'Stalemate - Seri';

subtitle = `Permainan berakhir seri setelah ${this.gameData.totalMoves} langkah`;

resultIcon.className = 'w-20 h-20 md:w-24 md:h-24 mx-auto mb-4 md:mb-6 rounded-full bg-warning/10 flex items-center justify-center';

break;


case 'draw':

iconHTML = `

<svg class="w-10 h-10 md:w-12 md:h-12 text-secondary-700" fill="none" stroke="currentColor" viewBox="0 0 24 24">

<path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M9 12h6m-6 4h6m2 5H7a2 2 0 01-2-2V5a2 2 0 012-2h5.586a1 1 0 01.707.293l5.414 5.414a1 1 0 01.293.707V19a2 2 0 01-2 2z"/>

</svg>

`;

title = 'Seri - Material Tidak Cukup';

subtitle = `Permainan berakhir seri setelah ${this.gameData.totalMoves} langkah`;

resultIcon.className = 'w-20 h-20 md:w-24 md:h-24 mx-auto mb-4 md:mb-6 rounded-full bg-secondary/10 flex items-center justify-center';

break;

}


resultIcon.innerHTML = iconHTML;

resultTitle.textContent = title;

resultSubtitle.textContent = subtitle;

},


updateStatistics() {

document.getElementById('totalMoves').textContent = this.gameData.totalMoves;

document.getElementById('gameDuration').textContent = this.gameData.duration;

const totalCaptures = this.gameData.captures.white + this.gameData.captures.black;

document.getElementById('totalCaptures').textContent = totalCaptures;

document.getElementById('capturesBreakdown').textContent = 

`${this.gameData.captures.white} putih, ${this.gameData.captures.black} hitam`;

const totalChecks = this.gameData.checks.white + this.gameData.checks.black;

document.getElementById('totalChecks').textContent = totalChecks;

document.getElementById('checksBreakdown').textContent = 

`${this.gameData.checks.white} putih, ${this.gameData.checks.black} hitam`;

const totalSpecial = this.gameData.specialMoves.castling + this.gameData.specialMoves.enPassant;

document.getElementById('specialMoves').textContent = totalSpecial;

document.getElementById('specialMovesBreakdown').textContent = 

`${this.gameData.specialMoves.castling} rokade, ${this.gameData.specialMoves.enPassant} en passant`;

},


updatePlayerStats() {

// Update white player

if (this.gameData.result === 'checkmate' && this.gameData.winner === 'white') {

document.getElementById('whiteResult').className = 'badge badge-success text-xs';

document.getElementById('whiteResult').textContent = 'Menang';

} else if (this.gameData.result === 'checkmate' && this.gameData.winner === 'black') {

document.getElementById('whiteResult').className = 'badge badge-error text-xs';

document.getElementById('whiteResult').textContent = 'Kalah';

} else {

document.getElementById('whiteResult').className = 'badge badge-warning text-xs';

document.getElementById('whiteResult').textContent = 'Seri';

}


// Update black player

if (this.gameData.result === 'checkmate' && this.gameData.winner === 'black') {

document.getElementById('blackResult').className = 'badge badge-success text-xs';

document.getElementById('blackResult').textContent = 'Menang';

} else if (this.gameData.result === 'checkmate' && this.gameData.winner === 'white') {

document.getElementById('blackResult').className = 'badge badge-error text-xs';

document.getElementById('blackResult').textContent = 'Kalah';

} else {

document.getElementById('blackResult').className = 'badge badge-warning text-xs';

document.getElementById('blackResult').textContent = 'Seri';

}


document.getElementById('whiteCaptured').textContent = `${this.gameData.captures.white} bidak`;

document.getElementById('whiteChecks').textContent = `${this.gameData.checks.white} kali`;

document.getElementById('blackCaptured').textContent = `${this.gameData.captures.black} bidak`;

document.getElementById('blackChecks').textContent = `${this.gameData.checks.black} kali`;

},


attachEventListeners() {

// Play Again button

document.getElementById('playAgainBtn')?.addEventListener('click', () => {

localStorage.removeItem('chessGameResult');

window.location.href = 'chess_game_board.html';

});


// Review Game button

document.getElementById('reviewGameBtn')?.addEventListener('click', () => {

this.showReviewModal();

});


// Share Result button

document.getElementById('shareResultBtn')?.addEventListener('click', () => {

this.shareResult();

});


// Review Modal controls

document.getElementById('closeReviewModal')?.addEventListener('click', () => {

this.hideReviewModal();

});


document.getElementById('cancelReviewBtn')?.addEventListener('click', () => {

this.hideReviewModal();

});


document.getElementById('startReviewBtn')?.addEventListener('click', () => {

this.hideReviewModal();

window.location.href = 'chess_game_board.html?review=true';

});


// Close modal on outside click

document.getElementById('reviewModal')?.addEventListener('click', (e) => {

if (e.target.id === 'reviewModal') {

this.hideReviewModal();

}

});

},


showReviewModal() {

document.getElementById('reviewModal').classList.remove('hidden');

},


hideReviewModal() {

document.getElementById('reviewModal').classList.add('hidden');

},


async shareResult() {

const shareData = {

title: 'ChessWeb - Hasil Permainan',

text: `${document.getElementById('resultTitle').textContent}\n${document.getElementById('resultSubtitle').textContent}`,

url: window.location.href

};


if (navigator.share) {

try {

await navigator.share(shareData);

} catch (err) {

if (err.name !== 'AbortError') {

console.error('Error sharing:', err);

this.fallbackShare(shareData);

}

}

} else {

this.fallbackShare(shareData);

}

},


fallbackShare(shareData) {

// Fallback: Copy to clipboard

const textToCopy = `${shareData.title}\n${shareData.text}\n${shareData.url}`;

if (navigator.clipboard) {

navigator.clipboard.writeText(textToCopy).then(() => {

alert('Hasil permainan disalin ke clipboard!');

}).catch(err => {

console.error('Failed to copy:', err);

alert('Gagal membagikan hasil. Silakan coba lagi.');

});

} else {

alert('Fitur berbagi tidak didukung di browser ini');

}

}

};


// Initialize when DOM is loaded

document.addEventListener('DOMContentLoaded', () => {

GameEndStatus.init();

});

</script>

<script id="dhws-dataInjector" src="../public/dhws-data-injector.js"></script>

</body>

</html>

